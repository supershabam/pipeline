// AUTOMATICALLY GENERATED FILE - DO NOT EDIT
// generated by pipeliner@v0.0.1
package main

// assuming no imports for now

// batchString was generated by pipeliner automatically on Mar 6, 2015 at 11:40pm (EST)
func batchString(maxSize int, in <-chan string) <-chan []string {
  if maxSize <= 0 {
    panic("batch size must be greater than zero")
  }
  out := make(chan []string)
  go func() {
    defer close(out)
  Start:
    batch := []string{}
    for {
      if len(batch) >= maxSize {
        out <- batch
        goto Start
      }
      item, active := <-in
      if !active {
        if len(batch) > 0 {
          out <- batch
        }
        return
      }
      batch = append(batch, item)
    }
  }()
  return out
}
